<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
<header class="header-container">

    <button id="menuButton" (click)="openSidebar()"> 
      <i class='bx bx-menu'></i> 
    </button>
    
    
    

    <a [routerLink]="['/vista-previa']" routerLinkActive="active">
      <img src="assets/mapi-logo.png" alt="mapi-logo" id="mapi-logo">
    </a>



    <div class="overlay" *ngIf="isSidebarOpen" (click)="closeSidebar()"></div>

    <!-- Controlado dinámicamente por isSidebarOpen. Si está activo, se aplica la clase open, 
     lo que cambia su estilo (desplegándose con una animación). -->
    <div [ngClass]="{'open': isSidebarOpen}" id="mySidebar" class="sidebar" >
      
      <div class="header-sidebar">
        <h1 id="hello">Hello</h1>
   
        <a href="javascript:void(0)" class="closebtn" (click)="closeSidebar()">
          <i class='bx bx-x'></i> 
        </a>
      </div>

      <div class="inicio">
        <a [routerLink]="['/vista-previa']" class="link-inicio">
          <i class="bx bx-home"></i> Inicio
        </a>
      </div>

      <div class="agregar-notas">
        <button id="add-notes" (click)="addNotes()">
          <i class="bx bx-edit edit-task-button"></i> Agregar notas
        </button>
      </div>

      <div class="calendario">
      <a [routerLink]="['/calendario']" class="link-calendario">
        <i class="bx bx-calendar"></i> Calendario
      </a>
      </div>

      

      <!-- Propósito: Recorrer el array notasExistentes.
            nota representa cada objeto dentro del array.
            track $index: -->
      <!-- Es un identificador que Angular utiliza para mejorar el rendimiento. 
       Ayuda a rastrear cada elemento iterado y optimiza las actualizaciones del DOM 
       (por ejemplo, si se modifica o elimina una nota). -->
      <div class="notas-existentes">
        <p>Notas existentes:</p>
        <div class="notas-container">
          @for(nota of notasExistentes; track $index){ 
            <!-- Al hacer clic en el botón, llama al método verNota() y pasa el id de la nota como argumento. -->
            <!-- Este es un interpolador de Angular. Inserta dinámicamente el contenido de la nota (nota.content) 
             en el botón, para mostrar el texto o descripción de la nota. -->
            <div class="nota-existente" [routerLink]="['/notas', nota.id]">{{nota.content}}</div>
            <button  class="nota-existente" (click) ="verNota(nota.id)">{{nota.content}}</button>
          }
        </div>

       
         
     


      </div>
    </div>


  </header>
